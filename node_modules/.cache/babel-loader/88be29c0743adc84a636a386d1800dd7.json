{"ast":null,"code":"import{Button}from\"@chakra-ui/button\";import{FormControl,FormLabel}from\"@chakra-ui/form-control\";import{Input,InputGroup,InputRightElement}from\"@chakra-ui/input\";import{VStack}from\"@chakra-ui/layout\";import{useState}from\"react\";import axios from\"axios\";import{Icon,useToast}from\"@chakra-ui/react\";import{useHistory}from\"react-router-dom\";import{ChatState}from\"../../Context/ChatProvider\";import{ViewIcon,ViewOffIcon}from\"@chakra-ui/icons\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Login=()=>{const[show,setShow]=useState(false);const handleClick=()=>setShow(!show);const toast=useToast();const[email,setEmail]=useState();const[password,setPassword]=useState();const[loading,setLoading]=useState(false);const history=useHistory();const{setUser}=ChatState();const submitHandler=async()=>{setLoading(true);if(!email||!password){toast({title:\"Please Fill all the Feilds\",status:\"warning\",duration:5000,isClosable:true,position:\"bottom\"});setLoading(false);return;}try{const config={headers:{\"Content-type\":\"application/json\"}};const{data}=await axios.post(\"/api/user/login\",{email,password},config);toast({title:\"Login Successful\",status:\"success\",duration:5000,isClosable:true,position:\"bottom\"});setUser(data);localStorage.setItem(\"userInfo\",JSON.stringify(data));setLoading(false);history.push(\"/chats\");}catch(error){toast({title:\"Error Occured!\",description:error.response.data.message,status:\"error\",duration:5000,isClosable:true,position:\"bottom\"});setLoading(false);}};return/*#__PURE__*/_jsxs(VStack,{spacing:\"10px\",children:[/*#__PURE__*/_jsxs(FormControl,{id:\"email\",isRequired:true,children:[/*#__PURE__*/_jsx(FormLabel,{children:\"Email Address\"}),/*#__PURE__*/_jsx(Input,{value:email,type:\"email\",placeholder:\"Enter Your Email Address\",onChange:e=>setEmail(e.target.value)})]}),/*#__PURE__*/_jsxs(FormControl,{id:\"password\",isRequired:true,children:[/*#__PURE__*/_jsx(FormLabel,{children:\"Password\"}),/*#__PURE__*/_jsxs(InputGroup,{size:\"md\",children:[/*#__PURE__*/_jsx(Input,{value:password,onChange:e=>setPassword(e.target.value),type:show?\"text\":\"password\",placeholder:\"Enter password\"}),/*#__PURE__*/_jsx(InputRightElement,{width:\"4.5rem\",children:/*#__PURE__*/_jsx(Button,{h:\"90%\",bg:\"transparent\",_hover:\"none\",borderWidth:\"none\",size:\"lg\",onClick:handleClick,leftIcon:/*#__PURE__*/_jsx(Icon,{as:show?ViewOffIcon:ViewIcon})})})]})]}),/*#__PURE__*/_jsx(Button,{colorScheme:\"blue\",width:\"100%\",style:{marginTop:15},onClick:submitHandler,isLoading:loading,children:\"Login\"}),/*#__PURE__*/_jsx(Button,{variant:\"solid\",colorScheme:\"red\",width:\"100%\",onClick:()=>{setEmail(\"guest@example.com\");setPassword(\"123456\");},children:\"Get Guest User Credentials\"})]});};export default Login;","map":{"version":3,"names":["Button","FormControl","FormLabel","Input","InputGroup","InputRightElement","VStack","useState","axios","Icon","useToast","useHistory","ChatState","ViewIcon","ViewOffIcon","jsx","_jsx","jsxs","_jsxs","Login","show","setShow","handleClick","toast","email","setEmail","password","setPassword","loading","setLoading","history","setUser","submitHandler","title","status","duration","isClosable","position","config","headers","data","post","localStorage","setItem","JSON","stringify","push","error","description","response","message","spacing","children","id","isRequired","value","type","placeholder","onChange","e","target","size","width","h","bg","_hover","borderWidth","onClick","leftIcon","as","colorScheme","style","marginTop","isLoading","variant"],"sources":["E:/Hasan sir project/4/frontend/src/components/Authentication/Login.js"],"sourcesContent":["import { Button } from \"@chakra-ui/button\";\r\nimport { FormControl, FormLabel } from \"@chakra-ui/form-control\";\r\nimport { Input, InputGroup, InputRightElement } from \"@chakra-ui/input\";\r\nimport { VStack } from \"@chakra-ui/layout\";\r\nimport { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Icon, useToast } from \"@chakra-ui/react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { ChatState } from \"../../Context/ChatProvider\";\r\nimport { ViewIcon, ViewOffIcon } from \"@chakra-ui/icons\";\r\n\r\nconst Login = () => {\r\n  const [show, setShow] = useState(false);\r\n  const handleClick = () => setShow(!show);\r\n  const toast = useToast();\r\n  const [email, setEmail] = useState();\r\n  const [password, setPassword] = useState();\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const history = useHistory();\r\n  const { setUser } = ChatState();\r\n\r\n  const submitHandler = async () => {\r\n    setLoading(true);\r\n    if (!email || !password) {\r\n      toast({\r\n        title: \"Please Fill all the Feilds\",\r\n        status: \"warning\",\r\n        duration: 5000,\r\n        isClosable: true,\r\n        position: \"bottom\",\r\n      });\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const config = {\r\n        headers: {\r\n          \"Content-type\": \"application/json\",\r\n        },\r\n      };\r\n\r\n      const { data } = await axios.post(\r\n        \"/api/user/login\",\r\n        { email, password },\r\n        config\r\n      );\r\n\r\n      toast({\r\n        title: \"Login Successful\",\r\n        status: \"success\",\r\n        duration: 5000,\r\n        isClosable: true,\r\n        position: \"bottom\",\r\n      });\r\n      setUser(data);\r\n      localStorage.setItem(\"userInfo\", JSON.stringify(data));\r\n      setLoading(false);\r\n      history.push(\"/chats\");\r\n    } catch (error) {\r\n      toast({\r\n        title: \"Error Occured!\",\r\n        description: error.response.data.message,\r\n        status: \"error\",\r\n        duration: 5000,\r\n        isClosable: true,\r\n        position: \"bottom\",\r\n      });\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <VStack spacing=\"10px\">\r\n      <FormControl id=\"email\" isRequired>\r\n        <FormLabel>Email Address</FormLabel>\r\n        <Input\r\n          value={email}\r\n          type=\"email\"\r\n          placeholder=\"Enter Your Email Address\"\r\n          onChange={(e) => setEmail(e.target.value)}\r\n        />\r\n      </FormControl>\r\n      <FormControl id=\"password\" isRequired>\r\n        <FormLabel>Password</FormLabel>\r\n        <InputGroup size=\"md\">\r\n          <Input\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            type={show ? \"text\" : \"password\"}\r\n            placeholder=\"Enter password\"\r\n          />\r\n          <InputRightElement width=\"4.5rem\">\r\n            <Button\r\n              h=\"90%\"\r\n              bg=\"transparent\"\r\n              _hover={\"none\"}\r\n              borderWidth=\"none\"\r\n              size=\"lg\"\r\n              onClick={handleClick}\r\n              leftIcon={<Icon as={show ? ViewOffIcon : ViewIcon} />}\r\n            ></Button>\r\n          </InputRightElement>\r\n        </InputGroup>\r\n      </FormControl>\r\n      <Button\r\n        colorScheme=\"blue\"\r\n        width=\"100%\"\r\n        style={{ marginTop: 15 }}\r\n        onClick={submitHandler}\r\n        isLoading={loading}\r\n      >\r\n        Login\r\n      </Button>\r\n      <Button\r\n        variant=\"solid\"\r\n        colorScheme=\"red\"\r\n        width=\"100%\"\r\n        onClick={() => {\r\n          setEmail(\"guest@example.com\");\r\n          setPassword(\"123456\");\r\n        }}\r\n      >\r\n        Get Guest User Credentials\r\n      </Button>\r\n    </VStack>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}