{"ast":null,"code":"import * as React from \"react\";\nimport { useSafeLayoutEffect } from \"./use-safe-layout-effect\";\n/**\r\n * React hook to persist any value between renders,\r\n * but keeps it up-to-date if it changes.\r\n *\r\n * @param value the value or function to persist\r\n */\n\nexport function useCallbackRef(fn, deps) {\n  if (deps === void 0) {\n    deps = [];\n  }\n  var ref = React.useRef(fn);\n  useSafeLayoutEffect(() => {\n    ref.current = fn;\n  }); // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  return React.useCallback(function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    return ref.current == null ? void 0 : ref.current(...args);\n  }, deps);\n}","map":{"version":3,"names":["React","useSafeLayoutEffect","useCallbackRef","fn","deps","ref","useRef","current","useCallback","_len","arguments","length","args","Array","_key"],"sources":["../../src/use-callback-ref.ts"],"sourcesContent":["import * as React from \"react\"\nimport { useSafeLayoutEffect } from \"./use-safe-layout-effect\"\n\n/**\n * React hook to persist any value between renders,\n * but keeps it up-to-date if it changes.\n *\n * @param value the value or function to persist\n */\nexport function useCallbackRef<T extends (...args: any[]) => any>(\n  fn: T | undefined,\n  deps: React.DependencyList = [],\n): T {\n  const ref = React.useRef(fn)\n\n  useSafeLayoutEffect(() => {\n    ref.current = fn\n  })\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  return React.useCallback(((...args) => ref.current?.(...args)) as T, deps)\n}\n"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,mBAAT,QAAoC,0BAApC;AAEA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASC,cAATA,CACLC,EADK,EAELC,IAFK,EAGF;EAAA,IADHA,IACG;IADHA,IACG,GAD0B,EAC1B;EAAA;EACH,IAAMC,GAAG,GAAGL,KAAK,CAACM,MAAN,CAAaH,EAAb,CAAZ;EAEAF,mBAAmB,CAAC,MAAM;IACxBI,GAAG,CAACE,OAAJ,GAAcJ,EAAd;EACD,CAFkB,CAAnB,CAHG,CAOH;;EACA,OAAOH,KAAK,CAACQ,WAAN,CAAmB;IAAA,SAAAC,IAAA,GAAAC,SAAA,CAAAC,MAAA,EAAIC,IAAJ,OAAAC,KAAA,CAAAJ,IAAA,GAAAK,IAAA,MAAAA,IAAA,GAAAL,IAAA,EAAAK,IAAA;MAAIF,IAAJ,CAAAE,IAAA,IAAAJ,SAAA,CAAAI,IAAA;IAAA;IAAA,OAAaT,GAAG,CAACE,OAAjB,oBAAaF,GAAG,CAACE,OAAJ,CAAc,GAAGK,IAAjB,CAAb;EAAA,CAAnB,EAA8DR,IAA9D,CAAP;AACD"},"metadata":{},"sourceType":"module"}