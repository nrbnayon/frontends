{"ast":null,"code":"function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nimport { chakra } from \"@chakra-ui/system\";\nimport { motion } from \"framer-motion\";\nimport { mergeWith } from \"@chakra-ui/utils\";\nimport React from \"react\";\nimport { usePopoverContext } from \"./popover-context\"; // TODO: consider moving this to some util\n\nvar mergeVariants = variants => {\n  if (!variants) return;\n  return mergeWith(variants, {\n    enter: {\n      visibility: \"visible\"\n    },\n    exit: {\n      transitionEnd: {\n        visibility: \"hidden\"\n      }\n    }\n  });\n};\nvar scaleFade = {\n  exit: {\n    opacity: 0,\n    scale: 0.95,\n    transition: {\n      duration: 0.1,\n      ease: [0.4, 0, 1, 1]\n    }\n  },\n  enter: {\n    scale: 1,\n    opacity: 1,\n    transition: {\n      duration: 0.15,\n      ease: [0, 0, 0.2, 1]\n    }\n  }\n};\nvar Section = motion(chakra.section);\nexport var PopoverTransition = /*#__PURE__*/React.forwardRef((props, ref) => {\n  var {\n    isOpen\n  } = usePopoverContext();\n  return /*#__PURE__*/React.createElement(Section, _extends({\n    ref: ref,\n    variants: mergeVariants(props.variants)\n  }, props, {\n    initial: false,\n    animate: isOpen ? \"enter\" : \"exit\"\n  }));\n});\nPopoverTransition.defaultProps = {\n  variants: scaleFade\n};","map":{"version":3,"names":["chakra","motion","mergeWith","React","usePopoverContext","mergeVariants","variants","enter","visibility","exit","transitionEnd","scaleFade","opacity","scale","transition","duration","ease","Section","section","PopoverTransition","forwardRef","props","ref","isOpen","createElement","_extends","initial","animate","defaultProps"],"sources":["../../src/popover-transition.tsx"],"sourcesContent":["import { chakra, HTMLChakraProps } from \"@chakra-ui/system\"\nimport { HTMLMotionProps, motion, Variant } from \"framer-motion\"\nimport { mergeWith } from \"@chakra-ui/utils\"\nimport React from \"react\"\nimport { usePopoverContext } from \"./popover-context\"\n\n// TODO: consider moving this to some util\ntype HTMLMotionChakraProps<T extends keyof React.ReactHTML> = Omit<\n  HTMLChakraProps<T>,\n  keyof HTMLMotionProps<T>\n> &\n  Omit<\n    HTMLMotionProps<T>,\n    | \"style\"\n    | \"onDrag\"\n    | \"onDragEnd\"\n    | \"onDragStart\"\n    | \"onAnimationStart\"\n    | \"variants\"\n  > & {\n    variants?: MotionVariants\n  }\n\ntype MotionVariants = Partial<Record<\"enter\" | \"exit\", Variant>>\n\nconst mergeVariants = (variants?: MotionVariants) => {\n  if (!variants) return\n  return mergeWith(variants, {\n    enter: {\n      visibility: \"visible\",\n    },\n    exit: {\n      transitionEnd: {\n        visibility: \"hidden\",\n      },\n    },\n  })\n}\n\nconst scaleFade: MotionVariants = {\n  exit: {\n    opacity: 0,\n    scale: 0.95,\n    transition: {\n      duration: 0.1,\n      ease: [0.4, 0, 1, 1],\n    },\n  },\n  enter: {\n    scale: 1,\n    opacity: 1,\n    transition: {\n      duration: 0.15,\n      ease: [0, 0, 0.2, 1],\n    },\n  },\n}\n\nconst Section = motion(chakra.section)\n\nexport interface PopoverTransitionProps\n  extends HTMLMotionChakraProps<\"section\"> {}\n\nexport const PopoverTransition = React.forwardRef(\n  (props: HTMLMotionChakraProps<\"section\">, ref: React.Ref<any>) => {\n    const { isOpen } = usePopoverContext()\n    return (\n      <Section\n        ref={ref}\n        variants={mergeVariants(props.variants)}\n        {...props}\n        initial={false}\n        animate={isOpen ? \"enter\" : \"exit\"}\n      />\n    )\n  },\n)\n\nPopoverTransition.defaultProps = {\n  variants: scaleFade,\n}\n"],"mappings":";;;;;;;;;;;;;;AAAA,SAASA,MAAT,QAAwC,mBAAxC;AACA,SAA0BC,MAA1B,QAAiD,eAAjD;AACA,SAASC,SAAT,QAA0B,kBAA1B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,iBAAT,QAAkC,mBAAlC,C,CAEA;;AAmBA,IAAMC,aAAa,GAAIC,QAAD,IAA+B;EACnD,IAAI,CAACA,QAAL,EAAe;EACf,OAAOJ,SAAS,CAACI,QAAD,EAAW;IACzBC,KAAK,EAAE;MACLC,UAAU,EAAE;IADP,CADkB;IAIzBC,IAAI,EAAE;MACJC,aAAa,EAAE;QACbF,UAAU,EAAE;MADC;IADX;EAJmB,CAAX,CAAhB;AAUD,CAZD;AAcA,IAAMG,SAAyB,GAAG;EAChCF,IAAI,EAAE;IACJG,OAAO,EAAE,CADL;IAEJC,KAAK,EAAE,IAFH;IAGJC,UAAU,EAAE;MACVC,QAAQ,EAAE,GADA;MAEVC,IAAI,EAAE,CAAC,GAAD,EAAM,CAAN,EAAS,CAAT,EAAY,CAAZ;IAFI;EAHR,CAD0B;EAShCT,KAAK,EAAE;IACLM,KAAK,EAAE,CADF;IAELD,OAAO,EAAE,CAFJ;IAGLE,UAAU,EAAE;MACVC,QAAQ,EAAE,IADA;MAEVC,IAAI,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,GAAP,EAAY,CAAZ;IAFI;EAHP;AATyB,CAAlC;AAmBA,IAAMC,OAAO,GAAGhB,MAAM,CAACD,MAAM,CAACkB,OAAR,CAAtB;AAKA,OAAO,IAAMC,iBAAiB,gBAAGhB,KAAK,CAACiB,UAAN,CAC/B,CAACC,KAAD,EAA0CC,GAA1C,KAAkE;EAChE,IAAM;IAAEC;EAAF,IAAanB,iBAAiB,EAApC;EACA,oBACED,KAAA,CAAAqB,aAAA,CAACP,OAAD,EAAAQ,QAAA;IACEH,GAAG,EAAEA,GADP;IAEEhB,QAAQ,EAAED,aAAa,CAACgB,KAAK,CAACf,QAAP;EAFzB,GAGMe,KAHN;IAIEK,OAAO,EAAE,KAJX;IAKEC,OAAO,EAAEJ,MAAM,GAAG,OAAH,GAAa;EAL9B,GADF;AASD,CAZ8B,CAA1B;AAePJ,iBAAiB,CAACS,YAAlB,GAAiC;EAC/BtB,QAAQ,EAAEK;AADqB,CAAjC"},"metadata":{},"sourceType":"module"}